<!DOCTYPE html>
<html>
  <head>
    <style>
      body { font-family: sans-serif; padding: 15px; background: #f8f9fa; }
      .section { background: white; border-radius: 8px; padding: 15px; margin-bottom: 10px; box-shadow: 0 1px 3px rgba(0,0,0,0.1); }
      #timer { font-size: 42px; font-weight: bold; text-align: center; margin: 10px 0; }
      button { width: 100%; padding: 10px; margin-bottom: 5px; cursor: pointer; border-radius: 4px; border: none; background: #1a73e8; color: white; font-weight: bold; }
    </style>
  </head>
  <body>
    <div class="section">
      <div id="timer">01:00</div>
      <button onclick="start(60)">60s</button>
      <button onclick="start(90)">90s</button>
      <button onclick="stop()" style="background:#d93025">STOP</button>
    </div>
    <div class="section">
      <button onclick="google.script.run.generateWorkout()">⚡ Régénérer</button>
      <button onclick="google.script.run.saveWorkout()" style="background:#1e8e3e">✅ Valider</button>
    </div>
    <script>
      let interval;
      function start(s) {
        clearInterval(interval); let t = s;
        interval = setInterval(() => {
          document.getElementById('timer').innerText = Math.floor(t/60).toString().padStart(2,'0') + ":" + (t%60).toString().padStart(2,'0');
          if (t <= 0) { clearInterval(interval); alert("Repos fini !"); }
          t--;
        }, 1000);
      }
      function stop() { clearInterval(interval); document.getElementById('timer').innerText = "00:00"; }
    </script>
  </body>
</html>